<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data noupdate="0">      
    <record id="group_infraction_user" model="res.groups">
        <field name="name">Infraction User</field>
        <field name="category_id" ref="base.module_category_human_resources"/>
        <field name="comment">the user will be able to create infraction document</field>
    </record>
    
    <record id="group_infraction_officer" model="res.groups">
        <field name="name">Infraction Officer</field>
        <field name="category_id" ref="base.module_category_human_resources"/>
    </record>
    
    <record id="group_infraction_manager" model="res.groups">
        <field name="name">Infraction Manager</field>
        <field name="category_id" ref="base.module_category_human_resources"/>
        <field name="implied_ids" eval="[(4, ref('group_infraction_officer'))]"/>
        <field name="users" eval="[(4, ref('base.user_root'))]"/>
    </record>
    
    <record id="rule_infraction_user" model="ir.rule">
        <field name="name">HR Infraction - User</field>
        <field name="model_id" ref="model_hr_infraction"/>
        <field name="groups" eval="[(4,ref('group_infraction_user'))]"/>
        <field name="domain_force">['|',('company_id','=',False),('company_id','child_of',[user.company_id.id]), '|', ('employee_id.user_id', '=', user.id), ('employee_id.department_id.manager_id.user_id', '=', user.id)]</field>
    </record>

</data>
</openerp>
